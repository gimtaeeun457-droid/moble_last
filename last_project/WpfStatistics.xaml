<UserControl x:Class="last_project.WpfStatistics"

             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"

             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"

             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 

             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 

             xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"

             mc:Ignorable="d" 

             d:DesignHeight="650" d:DesignWidth="1000"

             Background="#FF121212" Foreground="White"

             TextOptions.TextFormattingMode="Display"

             TextOptions.TextRenderingMode="ClearType"

             UseLayoutRounding="True"

             SnapsToDevicePixels="True">



    <UserControl.Resources>

        <Style TargetType="Border" x:Key="ChartCard">

            <Setter Property="Background" Value="#FF1E1E1E"/>

            <Setter Property="CornerRadius" Value="8"/>

            <Setter Property="Margin" Value="5"/>

            <Setter Property="Padding" Value="10"/>

            <Setter Property="BorderBrush" Value="#FF333333"/>

            <Setter Property="BorderThickness" Value="1"/>

        </Style>



        <Style TargetType="TextBlock" x:Key="ChartTitle">

            <Setter Property="HorizontalAlignment" Value="Center"/>

            <Setter Property="FontWeight" Value="SemiBold"/>

            <Setter Property="FontSize" Value="14"/>

            <Setter Property="Foreground" Value="#FFE0E0E0"/>

            <Setter Property="Margin" Value="0,0,0,10"/>

        </Style>

    </UserControl.Resources>



    <Grid Margin="10">

        <Grid.RowDefinitions>

            <RowDefinition Height="220"/>

            <RowDefinition Height="*"/>

            <RowDefinition Height="*"/>

        </Grid.RowDefinitions>



        <Grid Grid.Row="0">

            <Grid.ColumnDefinitions>

                <ColumnDefinition Width="*"/>

                <ColumnDefinition Width="*"/>

                <ColumnDefinition Width="*"/>

                <ColumnDefinition Width="*"/>

            </Grid.ColumnDefinitions>



            <Border Grid.Column="0" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="A수납장 적재율" Style="{StaticResource ChartTitle}"/>

                    <Grid Grid.Row="1">

                        <lvc:PieChart Series="{Binding SeriesA}" 

                                      InitialRotation="-90"

                                      LegendPosition="Bottom"

                                      TooltipTextPaint="{Binding TooltipTextPaint}"/>

                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" IsHitTestVisible="False"

                                    Margin="0, -20, 0, 0">

                            <TextBlock Text="50%" Foreground="White" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>

                            <TextBlock Text="적재됨" Foreground="Gray" FontSize="12" HorizontalAlignment="Center"/>

                        </StackPanel>

                    </Grid>

                </Grid>

            </Border>



            <Border Grid.Column="1" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="B수납장 적재율" Style="{StaticResource ChartTitle}"/>

                    <Grid Grid.Row="1">

                        <lvc:PieChart Series="{Binding SeriesB}" 

                                      InitialRotation="-90"

                                      LegendPosition="Bottom"

                                      TooltipTextPaint="{Binding TooltipTextPaint}"/>

                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" IsHitTestVisible="False"

                                    Margin="0, -20, 0, 0">

                            <TextBlock Text="100%" Foreground="White" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>

                            <TextBlock Text="적재됨" Foreground="Gray" FontSize="12" HorizontalAlignment="Center"/>

                        </StackPanel>

                    </Grid>

                </Grid>

            </Border>



            <Border Grid.Column="2" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="브랜드 비율" Style="{StaticResource ChartTitle}"/>

                    <lvc:PieChart Grid.Row="1" 

                                  Series="{Binding CategorySeries}" 

                                  LegendPosition="Right"
                                  
                                  TooltipBackgroundPaint="{Binding TooltipBackgroundPaint}"

                                  TooltipTextPaint="{Binding TooltipTextPaint}"/>

                </Grid>

            </Border>



            <Border Grid.Column="3" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="시간대별 활동량" Style="{StaticResource ChartTitle}"/>

                    <lvc:CartesianChart Grid.Row="1" 

                                        Series="{Binding HourlySeries}" 

                                        XAxes="{Binding HourXAxes}"

                                        YAxes="{Binding CommonYAxes}"
                                        
                                        TooltipBackgroundPaint="{Binding TooltipBackgroundPaint}"

                                        TooltipTextPaint="{Binding TooltipTextPaint}"/>

                </Grid>

            </Border>

        </Grid>



        <Grid Grid.Row="1">

            <Grid.ColumnDefinitions>

                <ColumnDefinition Width="*"/>

                <ColumnDefinition Width="*"/>

                <ColumnDefinition Width="*"/>

            </Grid.ColumnDefinitions>



            <Border Grid.Column="0" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="일별 입/출고 추이" Style="{StaticResource ChartTitle}"/>

                    <lvc:CartesianChart Grid.Row="1" 

                                        Series="{Binding InOutSeries}" 

                                        XAxes="{Binding DateXAxes}" 

                                        YAxes="{Binding CommonYAxes}"

                                        LegendPosition="Top"
                                        
                                        TooltipBackgroundPaint="{Binding TooltipBackgroundPaint}"

                                        TooltipTextPaint="{Binding TooltipTextPaint}"/>

                </Grid>

            </Border>



            <Border Grid.Column="1" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="AI 인식 성공률" Style="{StaticResource ChartTitle}"/>

                    <Grid Grid.Row="1">

                        <lvc:PieChart Series="{Binding AiGaugeSeries}" 

                                      InitialRotation="-90"

                                      Total="100"

                                      LegendPosition="Hidden"

                                      TooltipTextPaint="{Binding TooltipTextPaint}"/>

                        <TextBlock Text="92.5%" VerticalAlignment="Center" HorizontalAlignment="Center" 

                                   FontSize="28" FontWeight="Bold" Foreground="#FF00E676"

                                   Margin="0, -5, 0, 0"/>

                    </Grid>

                </Grid>

            </Border>



            <Border Grid.Column="2" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="평균 작업시간 (초)" Style="{StaticResource ChartTitle}"/>

                    <lvc:CartesianChart Grid.Row="1" 

                                        Series="{Binding TimeSeries}" 

                                        XAxes="{Binding TaskXAxes}" 

                                        YAxes="{Binding CommonYAxes}"
                                        
                                        TooltipBackgroundPaint="{Binding TooltipBackgroundPaint}"

                                        TooltipTextPaint="{Binding TooltipTextPaint}"/>

                </Grid>

            </Border>

        </Grid>



        <Grid Grid.Row="2">

            <Grid.ColumnDefinitions>

                <ColumnDefinition Width="*"/>

                <ColumnDefinition Width="*"/>

                <ColumnDefinition Width="*"/>

            </Grid.ColumnDefinitions>



            <Border Grid.Column="0" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="브랜드별 재고 (누적)" Style="{StaticResource ChartTitle}"/>

                    <lvc:CartesianChart Grid.Row="1" 

                                        Series="{Binding BrandSeries}" 

                                        XAxes="{Binding BrandXAxes}" 

                                        YAxes="{Binding CommonYAxes}"

                                        LegendPosition="Right"
                                        
                                        TooltipBackgroundPaint="{Binding TooltipBackgroundPaint}"

                                        TooltipTextPaint="{Binding TooltipTextPaint}"/>

                </Grid>

            </Border>



            <Border Grid.Column="1" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="수납장별 브랜드 현황" Style="{StaticResource ChartTitle}"/>

                    <lvc:CartesianChart Grid.Row="1" 

                                        Series="{Binding CabinetSeries}" 

                                        XAxes="{Binding CabinetXAxes}" 

                                        YAxes="{Binding CommonYAxes}"

                                        LegendPosition="Right"
                                        
                                        TooltipBackgroundPaint="{Binding TooltipBackgroundPaint}"

                                        TooltipTextPaint="{Binding TooltipTextPaint}"/>

                </Grid>

            </Border>



            <Border Grid.Column="2" Style="{StaticResource ChartCard}">

                <Grid>

                    <Grid.RowDefinitions>

                        <RowDefinition Height="Auto"/>

                        <RowDefinition Height="*"/>

                    </Grid.RowDefinitions>

                    <TextBlock Text="명령어 사용 빈도" Style="{StaticResource ChartTitle}"/>

                    <lvc:CartesianChart Grid.Row="1" 

                                        Series="{Binding CommandSeries}" 

                                        XAxes="{Binding CommonYAxes}" 

                                        YAxes="{Binding CommandYAxes}" 

                                        LegendPosition="Hidden"
                                        
                                        TooltipBackgroundPaint="{Binding TooltipBackgroundPaint}"

                                        TooltipTextPaint="{Binding TooltipTextPaint}"/>

                </Grid>

            </Border>

        </Grid>

    </Grid>

</UserControl>